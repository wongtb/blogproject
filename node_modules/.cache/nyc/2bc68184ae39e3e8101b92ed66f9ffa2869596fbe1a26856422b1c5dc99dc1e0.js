var cov_3wxnl7pmo=function(){var path="/home/brian/git/blogproject/blogpost/blogpostController.js";var hash="d33ac9f2b3bb446f29e327dbfb496b9570158706";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/brian/git/blogproject/blogpost/blogpostController.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:43}},"1":{start:{line:2,column:4},end:{line:2,column:34}},"2":{start:{line:3,column:4},end:{line:3,column:33}},"3":{start:{line:4,column:4},end:{line:4,column:34}},"4":{start:{line:5,column:4},end:{line:5,column:55}},"5":{start:{line:8,column:0},end:{line:44,column:2}},"6":{start:{line:10,column:17},end:{line:10,column:58}},"7":{start:{line:11,column:8},end:{line:11,column:57}},"8":{start:{line:13,column:4},end:{line:43,column:7}},"9":{start:{line:18,column:12},end:{line:42,column:11}},"10":{start:{line:19,column:30},end:{line:19,column:42}},"11":{start:{line:20,column:28},end:{line:20,column:62}},"12":{start:{line:22,column:12},end:{line:27,column:13}},"13":{start:{line:23,column:16},end:{line:26,column:19}},"14":{start:{line:29,column:12},end:{line:34,column:13}},"15":{start:{line:30,column:16},end:{line:33,column:18}},"16":{start:{line:36,column:12},end:{line:41,column:15}},"17":{start:{line:46,column:0},end:{line:64,column:1}},"18":{start:{line:49,column:19},end:{line:49,column:33}},"19":{start:{line:50,column:4},end:{line:50,column:36}},"20":{start:{line:51,column:4},end:{line:51,column:34}},"21":{start:{line:52,column:4},end:{line:52,column:34}},"22":{start:{line:53,column:4},end:{line:53,column:29}},"23":{start:{line:56,column:4},end:{line:63,column:7}},"24":{start:{line:57,column:8},end:{line:57,column:33}},"25":{start:{line:57,column:18},end:{line:57,column:32}},"26":{start:{line:59,column:8},end:{line:62,column:11}},"27":{start:{line:68,column:0},end:{line:79,column:2}},"28":{start:{line:69,column:4},end:{line:78,column:7}},"29":{start:{line:71,column:8},end:{line:71,column:52}},"30":{start:{line:71,column:18},end:{line:71,column:51}},"31":{start:{line:72,column:8},end:{line:72,column:107}},"32":{start:{line:72,column:24},end:{line:72,column:106}},"33":{start:{line:74,column:8},end:{line:77,column:11}},"34":{start:{line:83,column:0},end:{line:104,column:2}},"35":{start:{line:84,column:4},end:{line:103,column:7}},"36":{start:{line:85,column:8},end:{line:85,column:52}},"37":{start:{line:85,column:18},end:{line:85,column:51}},"38":{start:{line:86,column:8},end:{line:86,column:115}},"39":{start:{line:86,column:24},end:{line:86,column:114}},"40":{start:{line:87,column:8},end:{line:87,column:127}},"41":{start:{line:87,column:43},end:{line:87,column:126}},"42":{start:{line:94,column:8},end:{line:94,column:38}},"43":{start:{line:95,column:8},end:{line:95,column:40}},"44":{start:{line:96,column:8},end:{line:102,column:11}},"45":{start:{line:97,column:12},end:{line:97,column:102}},"46":{start:{line:97,column:22},end:{line:97,column:101}},"47":{start:{line:98,column:12},end:{line:101,column:15}},"48":{start:{line:107,column:0},end:{line:121,column:2}},"49":{start:{line:108,column:4},end:{line:120,column:7}},"50":{start:{line:109,column:8},end:{line:109,column:52}},"51":{start:{line:109,column:18},end:{line:109,column:51}},"52":{start:{line:110,column:8},end:{line:110,column:115}},"53":{start:{line:110,column:24},end:{line:110,column:114}},"54":{start:{line:111,column:8},end:{line:111,column:129}},"55":{start:{line:111,column:43},end:{line:111,column:128}},"56":{start:{line:113,column:8},end:{line:119,column:11}},"57":{start:{line:114,column:12},end:{line:114,column:107}},"58":{start:{line:114,column:23},end:{line:114,column:106}},"59":{start:{line:115,column:12},end:{line:118,column:15}},"60":{start:{line:124,column:0},end:{line:142,column:2}},"61":{start:{line:125,column:4},end:{line:141,column:7}},"62":{start:{line:126,column:8},end:{line:126,column:41}},"63":{start:{line:126,column:19},end:{line:126,column:40}},"64":{start:{line:127,column:8},end:{line:127,column:115}},"65":{start:{line:127,column:24},end:{line:127,column:114}},"66":{start:{line:128,column:8},end:{line:128,column:94}},"67":{start:{line:128,column:27},end:{line:128,column:93}},"68":{start:{line:130,column:8},end:{line:130,column:31}},"69":{start:{line:133,column:8},end:{line:140,column:11}},"70":{start:{line:134,column:12},end:{line:135,column:37}},"71":{start:{line:135,column:16},end:{line:135,column:37}},"72":{start:{line:136,column:12},end:{line:139,column:15}},"73":{start:{line:146,column:0},end:{line:164,column:2}},"74":{start:{line:147,column:4},end:{line:163,column:7}},"75":{start:{line:148,column:8},end:{line:148,column:41}},"76":{start:{line:148,column:19},end:{line:148,column:40}},"77":{start:{line:149,column:8},end:{line:149,column:115}},"78":{start:{line:149,column:24},end:{line:149,column:114}},"79":{start:{line:150,column:8},end:{line:150,column:94}},"80":{start:{line:150,column:27},end:{line:150,column:93}},"81":{start:{line:152,column:8},end:{line:152,column:31}},"82":{start:{line:155,column:8},end:{line:162,column:11}},"83":{start:{line:156,column:12},end:{line:157,column:37}},"84":{start:{line:157,column:16},end:{line:157,column:37}},"85":{start:{line:158,column:12},end:{line:161,column:15}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:16},end:{line:8,column:17}},loc:{start:{line:8,column:36},end:{line:44,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:38},end:{line:43,column:5}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:34},end:{line:18,column:35}},loc:{start:{line:18,column:55},end:{line:42,column:9}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:46,column:14},end:{line:46,column:15}},loc:{start:{line:46,column:34},end:{line:64,column:1}},line:46},"4":{name:"(anonymous_4)",decl:{start:{line:56,column:18},end:{line:56,column:19}},loc:{start:{line:56,column:33},end:{line:63,column:5}},line:56},"5":{name:"(anonymous_5)",decl:{start:{line:68,column:15},end:{line:68,column:16}},loc:{start:{line:68,column:35},end:{line:79,column:1}},line:68},"6":{name:"(anonymous_6)",decl:{start:{line:69,column:42},end:{line:69,column:43}},loc:{start:{line:69,column:67},end:{line:78,column:5}},line:69},"7":{name:"(anonymous_7)",decl:{start:{line:83,column:17},end:{line:83,column:18}},loc:{start:{line:83,column:37},end:{line:104,column:1}},line:83},"8":{name:"(anonymous_8)",decl:{start:{line:84,column:42},end:{line:84,column:43}},loc:{start:{line:84,column:67},end:{line:103,column:5}},line:84},"9":{name:"(anonymous_9)",decl:{start:{line:96,column:22},end:{line:96,column:23}},loc:{start:{line:96,column:37},end:{line:102,column:9}},line:96},"10":{name:"(anonymous_10)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:37},end:{line:121,column:1}},line:107},"11":{name:"(anonymous_11)",decl:{start:{line:108,column:42},end:{line:108,column:43}},loc:{start:{line:108,column:67},end:{line:120,column:5}},line:108},"12":{name:"(anonymous_12)",decl:{start:{line:113,column:51},end:{line:113,column:52}},loc:{start:{line:113,column:75},end:{line:119,column:9}},line:113},"13":{name:"(anonymous_13)",decl:{start:{line:124,column:17},end:{line:124,column:18}},loc:{start:{line:124,column:37},end:{line:142,column:1}},line:124},"14":{name:"(anonymous_14)",decl:{start:{line:125,column:42},end:{line:125,column:43}},loc:{start:{line:125,column:67},end:{line:141,column:5}},line:125},"15":{name:"(anonymous_15)",decl:{start:{line:133,column:22},end:{line:133,column:23}},loc:{start:{line:133,column:37},end:{line:140,column:9}},line:133},"16":{name:"(anonymous_16)",decl:{start:{line:146,column:19},end:{line:146,column:20}},loc:{start:{line:146,column:39},end:{line:164,column:1}},line:146},"17":{name:"(anonymous_17)",decl:{start:{line:147,column:42},end:{line:147,column:43}},loc:{start:{line:147,column:67},end:{line:163,column:5}},line:147},"18":{name:"(anonymous_18)",decl:{start:{line:155,column:22},end:{line:155,column:23}},loc:{start:{line:155,column:37},end:{line:162,column:9}},line:155}},branchMap:{"0":{loc:{start:{line:10,column:17},end:{line:10,column:58}},type:"cond-expr",locations:[{start:{line:10,column:37},end:{line:10,column:54}},{start:{line:10,column:57},end:{line:10,column:58}}],line:10},"1":{loc:{start:{line:11,column:16},end:{line:11,column:56}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:54},end:{line:11,column:56}}],line:11},"2":{loc:{start:{line:22,column:12},end:{line:27,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:27,column:13}},{start:{line:22,column:12},end:{line:27,column:13}}],line:22},"3":{loc:{start:{line:29,column:12},end:{line:34,column:13}},type:"if",locations:[{start:{line:29,column:12},end:{line:34,column:13}},{start:{line:29,column:12},end:{line:34,column:13}}],line:29},"4":{loc:{start:{line:40,column:28},end:{line:40,column:86}},type:"cond-expr",locations:[{start:{line:40,column:59},end:{line:40,column:75}},{start:{line:40,column:79},end:{line:40,column:86}}],line:40},"5":{loc:{start:{line:57,column:8},end:{line:57,column:33}},type:"if",locations:[{start:{line:57,column:8},end:{line:57,column:33}},{start:{line:57,column:8},end:{line:57,column:33}}],line:57},"6":{loc:{start:{line:71,column:8},end:{line:71,column:52}},type:"if",locations:[{start:{line:71,column:8},end:{line:71,column:52}},{start:{line:71,column:8},end:{line:71,column:52}}],line:71},"7":{loc:{start:{line:72,column:8},end:{line:72,column:107}},type:"if",locations:[{start:{line:72,column:8},end:{line:72,column:107}},{start:{line:72,column:8},end:{line:72,column:107}}],line:72},"8":{loc:{start:{line:85,column:8},end:{line:85,column:52}},type:"if",locations:[{start:{line:85,column:8},end:{line:85,column:52}},{start:{line:85,column:8},end:{line:85,column:52}}],line:85},"9":{loc:{start:{line:86,column:8},end:{line:86,column:115}},type:"if",locations:[{start:{line:86,column:8},end:{line:86,column:115}},{start:{line:86,column:8},end:{line:86,column:115}}],line:86},"10":{loc:{start:{line:87,column:8},end:{line:87,column:127}},type:"if",locations:[{start:{line:87,column:8},end:{line:87,column:127}},{start:{line:87,column:8},end:{line:87,column:127}}],line:87},"11":{loc:{start:{line:97,column:12},end:{line:97,column:102}},type:"if",locations:[{start:{line:97,column:12},end:{line:97,column:102}},{start:{line:97,column:12},end:{line:97,column:102}}],line:97},"12":{loc:{start:{line:109,column:8},end:{line:109,column:52}},type:"if",locations:[{start:{line:109,column:8},end:{line:109,column:52}},{start:{line:109,column:8},end:{line:109,column:52}}],line:109},"13":{loc:{start:{line:110,column:8},end:{line:110,column:115}},type:"if",locations:[{start:{line:110,column:8},end:{line:110,column:115}},{start:{line:110,column:8},end:{line:110,column:115}}],line:110},"14":{loc:{start:{line:111,column:8},end:{line:111,column:129}},type:"if",locations:[{start:{line:111,column:8},end:{line:111,column:129}},{start:{line:111,column:8},end:{line:111,column:129}}],line:111},"15":{loc:{start:{line:114,column:12},end:{line:114,column:107}},type:"if",locations:[{start:{line:114,column:12},end:{line:114,column:107}},{start:{line:114,column:12},end:{line:114,column:107}}],line:114},"16":{loc:{start:{line:126,column:8},end:{line:126,column:41}},type:"if",locations:[{start:{line:126,column:8},end:{line:126,column:41}},{start:{line:126,column:8},end:{line:126,column:41}}],line:126},"17":{loc:{start:{line:127,column:8},end:{line:127,column:115}},type:"if",locations:[{start:{line:127,column:8},end:{line:127,column:115}},{start:{line:127,column:8},end:{line:127,column:115}}],line:127},"18":{loc:{start:{line:128,column:8},end:{line:128,column:94}},type:"if",locations:[{start:{line:128,column:8},end:{line:128,column:94}},{start:{line:128,column:8},end:{line:128,column:94}}],line:128},"19":{loc:{start:{line:134,column:12},end:{line:135,column:37}},type:"if",locations:[{start:{line:134,column:12},end:{line:135,column:37}},{start:{line:134,column:12},end:{line:135,column:37}}],line:134},"20":{loc:{start:{line:148,column:8},end:{line:148,column:41}},type:"if",locations:[{start:{line:148,column:8},end:{line:148,column:41}},{start:{line:148,column:8},end:{line:148,column:41}}],line:148},"21":{loc:{start:{line:149,column:8},end:{line:149,column:115}},type:"if",locations:[{start:{line:149,column:8},end:{line:149,column:115}},{start:{line:149,column:8},end:{line:149,column:115}}],line:149},"22":{loc:{start:{line:150,column:8},end:{line:150,column:94}},type:"if",locations:[{start:{line:150,column:8},end:{line:150,column:94}},{start:{line:150,column:8},end:{line:150,column:94}}],line:150},"23":{loc:{start:{line:156,column:12},end:{line:157,column:37}},type:"if",locations:[{start:{line:156,column:12},end:{line:157,column:37}},{start:{line:156,column:12},end:{line:157,column:37}}],line:156}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"d33ac9f2b3bb446f29e327dbfb496b9570158706"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const BlogPost=(cov_3wxnl7pmo.s[0]++,require('./blogpostModel'));cov_3wxnl7pmo.s[1]++;jwt=require('jsonwebtoken');cov_3wxnl7pmo.s[2]++;bcrypt=require('bcryptjs');cov_3wxnl7pmo.s[3]++;User=require('../user/User');cov_3wxnl7pmo.s[4]++;validateToken=require('../user/authenticateUser');// Handle index actions
cov_3wxnl7pmo.s[5]++;exports.index=function(req,res){cov_3wxnl7pmo.f[0]++;// If query is invalid, error out
var offset=(cov_3wxnl7pmo.s[6]++,+req.query.offset?(cov_3wxnl7pmo.b[0][0]++,+req.query.offset):(cov_3wxnl7pmo.b[0][1]++,0));cov_3wxnl7pmo.s[7]++;limit=+req.query.limit?(cov_3wxnl7pmo.b[1][0]++,+req.query.limit):(cov_3wxnl7pmo.b[1][1]++,10);cov_3wxnl7pmo.s[8]++;BlogPost.find({}).skip(offset).limit(limit).exec(function(err,blogpost){cov_3wxnl7pmo.f[1]++;cov_3wxnl7pmo.s[9]++;BlogPost.count().exec(function(err,count){cov_3wxnl7pmo.f[2]++;var startingVal=(cov_3wxnl7pmo.s[10]++,+offset+ +1);var endingVal=(cov_3wxnl7pmo.s[11]++,Math.min(+offset+ +limit,+count));cov_3wxnl7pmo.s[12]++;if(err){cov_3wxnl7pmo.b[2][0]++;cov_3wxnl7pmo.s[13]++;res.json({status:"error",message:err});}else{cov_3wxnl7pmo.b[2][1]++;}cov_3wxnl7pmo.s[14]++;if(offset>count){cov_3wxnl7pmo.b[3][0]++;cov_3wxnl7pmo.s[15]++;res.json({status:"error",message:"offset is greater than the size of the database.  no data can be returned"});}else{cov_3wxnl7pmo.b[3][1]++;}cov_3wxnl7pmo.s[16]++;res.json({status:"success",message:"Blogs ("+String(+startingVal)+" to "+String(+endingVal)+") have been retrieved.",data:blogpost,nextOffset:count>+offset+ +limit?(cov_3wxnl7pmo.b[4][0]++,+offset+ +limit):(cov_3wxnl7pmo.b[4][1]++,+offset)});});});};// Handle create contact actions
cov_3wxnl7pmo.s[17]++;exports.new=function(req,res){cov_3wxnl7pmo.f[3]++;// Send Post
var blogpost=(cov_3wxnl7pmo.s[18]++,new BlogPost());cov_3wxnl7pmo.s[19]++;blogpost.title=req.body.title;cov_3wxnl7pmo.s[20]++;blogpost.author=req.user_id;cov_3wxnl7pmo.s[21]++;blogpost.post=req.body.post;cov_3wxnl7pmo.s[22]++;blogpost.likeCounter=0;// save the Blog Post and check for errors
cov_3wxnl7pmo.s[23]++;blogpost.save(function(err){cov_3wxnl7pmo.f[4]++;cov_3wxnl7pmo.s[24]++;if(err){cov_3wxnl7pmo.b[5][0]++;cov_3wxnl7pmo.s[25]++;res.json(err);}else{cov_3wxnl7pmo.b[5][1]++;}cov_3wxnl7pmo.s[26]++;res.json({message:'New post created!',id:blogpost._id});});};// Handle view contact info
cov_3wxnl7pmo.s[27]++;exports.view=function(req,res){cov_3wxnl7pmo.f[5]++;cov_3wxnl7pmo.s[28]++;BlogPost.findById(req.params.post_id,function(err,blogpost){cov_3wxnl7pmo.f[6]++;cov_3wxnl7pmo.s[29]++;// cannot be found
if(err){cov_3wxnl7pmo.b[6][0]++;cov_3wxnl7pmo.s[30]++;return res.status(400).send(err);}else{cov_3wxnl7pmo.b[6][1]++;}cov_3wxnl7pmo.s[31]++;if(!blogpost){cov_3wxnl7pmo.b[7][0]++;cov_3wxnl7pmo.s[32]++;return res.status(400).send("Blog post "+req.params.post_id+" was not found.");}else{cov_3wxnl7pmo.b[7][1]++;}cov_3wxnl7pmo.s[33]++;res.json({message:'Blog retrieved',data:blogpost});});};// Handle update blog post
cov_3wxnl7pmo.s[34]++;exports.update=function(req,res){cov_3wxnl7pmo.f[7]++;cov_3wxnl7pmo.s[35]++;BlogPost.findById(req.params.post_id,function(err,blogpost){cov_3wxnl7pmo.f[8]++;cov_3wxnl7pmo.s[36]++;if(err){cov_3wxnl7pmo.b[8][0]++;cov_3wxnl7pmo.s[37]++;return res.status(400).send(err);}else{cov_3wxnl7pmo.b[8][1]++;};cov_3wxnl7pmo.s[38]++;if(!blogpost){cov_3wxnl7pmo.b[9][0]++;cov_3wxnl7pmo.s[39]++;return res.status(400).send("Blog post with ID "+req.params.post_id+" was not found.");}else{cov_3wxnl7pmo.b[9][1]++;}cov_3wxnl7pmo.s[40]++;if(blogpost.author!=req.user_id){cov_3wxnl7pmo.b[10][0]++;cov_3wxnl7pmo.s[41]++;return res.status(401).send("You do not have the authorization to edit this post.");}else{cov_3wxnl7pmo.b[10][1]++;};//console.log('Blogpost Author ID = ' + blogpost.author);
//console.log('Token ID = ' + blogpost.author);
//console.log('Not Equal? = ' + String(blogpost.author!=req.user_id)); 
// save the blog post and check for errors
cov_3wxnl7pmo.s[42]++;blogpost.post=req.body.post;cov_3wxnl7pmo.s[43]++;blogpost.edit_date=new Date();cov_3wxnl7pmo.s[44]++;blogpost.save(function(err){cov_3wxnl7pmo.f[9]++;cov_3wxnl7pmo.s[45]++;if(err){cov_3wxnl7pmo.b[11][0]++;cov_3wxnl7pmo.s[46]++;return res.status(400).send("Failed to save data to database.  Error: "+err);}else{cov_3wxnl7pmo.b[11][1]++;}cov_3wxnl7pmo.s[47]++;res.json({message:'Blog Post updated',data:blogpost});});});};// delete a blog post
cov_3wxnl7pmo.s[48]++;exports.delete=function(req,res){cov_3wxnl7pmo.f[10]++;cov_3wxnl7pmo.s[49]++;BlogPost.findById(req.params.post_id,function(err,blogpost){cov_3wxnl7pmo.f[11]++;cov_3wxnl7pmo.s[50]++;if(err){cov_3wxnl7pmo.b[12][0]++;cov_3wxnl7pmo.s[51]++;return res.status(400).send(err);}else{cov_3wxnl7pmo.b[12][1]++;};cov_3wxnl7pmo.s[52]++;if(!blogpost){cov_3wxnl7pmo.b[13][0]++;cov_3wxnl7pmo.s[53]++;return res.status(400).send("Blog post with ID "+req.params.post_id+" was not found.");}else{cov_3wxnl7pmo.b[13][1]++;}cov_3wxnl7pmo.s[54]++;if(blogpost.author!=req.user_id){cov_3wxnl7pmo.b[14][0]++;cov_3wxnl7pmo.s[55]++;return res.status(401).send("You do not have the authorization to delete this post.");}else{cov_3wxnl7pmo.b[14][1]++;};cov_3wxnl7pmo.s[56]++;blogpost.remove({_id:req.params.post_id},function(err,contact){cov_3wxnl7pmo.f[12]++;cov_3wxnl7pmo.s[57]++;if(err){cov_3wxnl7pmo.b[15][0]++;cov_3wxnl7pmo.s[58]++;return res.status(400).send("Failed to delete data from database.  Error: "+err);}else{cov_3wxnl7pmo.b[15][1]++;}cov_3wxnl7pmo.s[59]++;res.json({status:"success",message:'Blog post deleted'});});});};//upvote a blog post
cov_3wxnl7pmo.s[60]++;exports.upvote=function(req,res){cov_3wxnl7pmo.f[13]++;cov_3wxnl7pmo.s[61]++;BlogPost.findById(req.params.post_id,function(err,blogpost){cov_3wxnl7pmo.f[14]++;cov_3wxnl7pmo.s[62]++;if(err){cov_3wxnl7pmo.b[16][0]++;cov_3wxnl7pmo.s[63]++;return res.send(err);}else{cov_3wxnl7pmo.b[16][1]++;}cov_3wxnl7pmo.s[64]++;if(!blogpost){cov_3wxnl7pmo.b[17][0]++;cov_3wxnl7pmo.s[65]++;return res.status(400).send("Blog post with ID "+req.params.post_id+" was not found.");}else{cov_3wxnl7pmo.b[17][1]++;}cov_3wxnl7pmo.s[66]++;if(!req.user_id){cov_3wxnl7pmo.b[18][0]++;cov_3wxnl7pmo.s[67]++;return res.status(401).send("Please log in to upvote or downvote");}else{cov_3wxnl7pmo.b[18][1]++;};cov_3wxnl7pmo.s[68]++;blogpost.likeCounter++;// save the new blogpost save counter
cov_3wxnl7pmo.s[69]++;blogpost.save(function(err){cov_3wxnl7pmo.f[15]++;cov_3wxnl7pmo.s[70]++;if(err){cov_3wxnl7pmo.b[19][0]++;cov_3wxnl7pmo.s[71]++;return res.json(err);}else{cov_3wxnl7pmo.b[19][1]++;}cov_3wxnl7pmo.s[72]++;res.json({message:'Blog Post upvoted',data:blogpost.likeCounter});});});};//downvote a blog post
cov_3wxnl7pmo.s[73]++;exports.downvote=function(req,res){cov_3wxnl7pmo.f[16]++;cov_3wxnl7pmo.s[74]++;BlogPost.findById(req.params.post_id,function(err,blogpost){cov_3wxnl7pmo.f[17]++;cov_3wxnl7pmo.s[75]++;if(err){cov_3wxnl7pmo.b[20][0]++;cov_3wxnl7pmo.s[76]++;return res.send(err);}else{cov_3wxnl7pmo.b[20][1]++;}cov_3wxnl7pmo.s[77]++;if(!blogpost){cov_3wxnl7pmo.b[21][0]++;cov_3wxnl7pmo.s[78]++;return res.status(400).send("Blog post with ID "+req.params.post_id+" was not found.");}else{cov_3wxnl7pmo.b[21][1]++;}cov_3wxnl7pmo.s[79]++;if(!req.user_id){cov_3wxnl7pmo.b[22][0]++;cov_3wxnl7pmo.s[80]++;return res.status(401).send("Please log in to upvote or downvote");}else{cov_3wxnl7pmo.b[22][1]++;};cov_3wxnl7pmo.s[81]++;blogpost.likeCounter--;// save the new blogpost save counter
cov_3wxnl7pmo.s[82]++;blogpost.save(function(err){cov_3wxnl7pmo.f[18]++;cov_3wxnl7pmo.s[83]++;if(err){cov_3wxnl7pmo.b[23][0]++;cov_3wxnl7pmo.s[84]++;return res.json(err);}else{cov_3wxnl7pmo.b[23][1]++;}cov_3wxnl7pmo.s[85]++;res.json({message:'Blog Post downvoted',data:blogpost.likeCounter});});});};